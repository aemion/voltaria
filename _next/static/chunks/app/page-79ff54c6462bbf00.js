(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4371:(e,t,i)=>{Promise.resolve().then(i.bind(i,8324)),Promise.resolve().then(i.t.bind(i,5717,23))},8324:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var r=i(5155),s=i(2115);function n(e){let{x:t,y:i,size:s,symbol:n,isHighlighted:o,onMouseDown:h,isActive:a=!1}=e,l={x:t*s+1,y:i*s+1},u={x:l.x+s/2,y:l.y+s/2,dominantBaseline:"middle",textAnchor:"middle"},d={x1:u.x,x2:u.x,y1:u.y-s/3,y2:u.y+s/5};return(0,r.jsxs)("g",{...l,width:s,height:s,onMouseDown:h,children:[(0,r.jsx)("rect",{...l,width:s,height:s,fill:o?"yellow":"#"!==n?"transparent":"#000",stroke:"black",strokeWidth:1}),(0,r.jsx)("text",{...u,width:s,height:s,children:n}),a&&(0,r.jsx)("line",{...d,stroke:"black",children:(0,r.jsx)("animate",{attributeName:"stroke",values:"#black;transparent",dur:"1s",calcMode:"discrete",repeatCount:"indefinite"})})]})}class o{add(e){return new o(e.x+this.x,e.y+this.y)}equals(e){return this.x===e.x&&this.y===e.y}opposite(){return new o(-this.x,-this.y)}constructor(e,t){this.x=e,this.y=t}}class h{withValue(e,t){return this.isInside(e)?new h(this.values.with(this.toIndex(e),t),this.width):this}isInside(e){return e.x<this.width&&e.x>=0&&e.y<this.height&&e.y>=0}toIndex(e){return e.x+e.y*this.width}toPosition(e){return new o(e%this.width,Math.floor(e/this.width))}getCells(){return this.values.map((e,t)=>({position:this.toPosition(t),value:e}))}constructor(e,t){if(this.values=e,this.width=t,!Number.isInteger(t))throw Error("Width must be integer");let i=e.length;if(0===i||i%t!=0)throw Error("Incorrect number of values in grid");this.height=i/t}}function a(){let[e,t]=(0,s.useState)(new h(Array(96).fill(""),8)),[i,a]=(0,s.useState)(new o(0,0)),[l,u]=(0,s.useState)(new o(1,0)),[d,c,w]=function(){let e=(0,s.useRef)(null);(0,s.useEffect)(()=>{e.current&&e.current.focus()},[]);let[t,i]=(0,s.useState)(!1);return[e,t,i]}(),g=t=>{let r=i.add(t);e.isInside(r)&&a(r)},p=e=>{let t={ArrowDown:new o(0,1),ArrowUp:new o(0,-1),ArrowLeft:new o(-1,0),ArrowRight:new o(1,0)}[e.code];void 0!==t&&(u(new o(Math.abs(t.x),Math.abs(t.y))),g(t))},x=r=>{if(r.ctrlKey)return;if("Delete"===r.code||"Backspace"===r.code){t(e.withValue(i,"")),"Backspace"===r.code&&g(l.opposite());return}let s=r.key.toUpperCase();(function(e){if(0===e.length)return!0;if(e.length>1)return!1;if("#"===e)return!0;let t=e.charCodeAt(0);return t>=65&&t<=90})(s)&&(t(e.withValue(i,s)),g(l))};return(0,r.jsx)("svg",{ref:d,tabIndex:0,style:{dominantBaseline:"hanging",outline:"none"},onKeyDown:e=>{p(e),x(e)},width:40*e.width+1,height:40*e.height+1,shapeRendering:"crispEdges",onFocus:()=>w(!0),onBlur:()=>w(!1),children:e.getCells().map(t=>{let{position:s,value:o}=t;return(0,r.jsx)(n,{symbol:o,...s,size:40,isHighlighted:s.equals(i)&&c,isActive:s.equals(i)&&c,onMouseDown:()=>a(s)},e.toIndex(s))})})}},5717:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",ctas:"page_ctas__rfsth",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",footer:"page_footer__F3MD0",logo:"page_logo__ikIZE"}}},e=>{var t=t=>e(e.s=t);e.O(0,[938,441,517,358],()=>t(4371)),_N_E=e.O()}]);