(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4371:(e,t,r)=>{Promise.resolve().then(r.bind(r,8324)),Promise.resolve().then(r.t.bind(r,5717,23))},8324:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(5155),i=r(2115);function n(e){let{x:t,y:r,size:i,symbol:n,isHighlighted:a,onMouseDown:o,isActive:h=!1}=e,l={x:t*i+1,y:r*i+1},u={x:l.x+i/2,y:l.y+i/2,dominantBaseline:"middle",textAnchor:"middle"},c={x1:u.x,x2:u.x,y1:u.y-i/3,y2:u.y+i/5};return(0,s.jsxs)("g",{...l,width:i,height:i,onMouseDown:o,children:[(0,s.jsx)("rect",{...l,width:i,height:i,fill:a?"yellow":"#"!==n?"transparent":"#000",stroke:"black",strokeWidth:1}),(0,s.jsx)("text",{...u,width:i,height:i,children:n}),h&&(0,s.jsx)("line",{...c,stroke:"black",children:(0,s.jsx)("animate",{attributeName:"stroke",values:"black;transparent",dur:"1s",calcMode:"discrete",repeatCount:"indefinite"})})]})}class a{add(e){return new a(e.x+this.x,e.y+this.y)}equals(e){return this.x===e.x&&this.y===e.y}opposite(){return new a(-this.x,-this.y)}constructor(e,t){this.x=e,this.y=t}}class o{withValue(e,t){return this.isInside(e)?new o(this.values.with(this.toIndex(e),t),this.width):this}isInside(e){return e.x<this.width&&e.x>=0&&e.y<this.height&&e.y>=0}toIndex(e){return e.x+e.y*this.width}toPosition(e){return new a(e%this.width,Math.floor(e/this.width))}getCells(){return this.values.map((e,t)=>({position:this.toPosition(t),value:e}))}constructor(e,t){if(this.values=e,this.width=t,!Number.isInteger(t))throw Error("Width must be integer");let r=e.length;if(0===r||r%t!=0)throw Error("Incorrect number of values in grid");this.height=r/t}}var h=r(5053),l=r.n(h);function u(){let[e,t]=(0,i.useState)(new o("VOLTARIA".split("").concat(Array(88).fill("")).with(11,"#").with(12,"#"),8)),[r,h]=(0,i.useState)(new a(0,1)),[u,c]=(0,i.useState)(new a(1,0)),[d,w,p]=function(){let e=(0,i.useRef)(null),[t,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let t=e.current;if(t){let e=()=>r(!0);t.addEventListener("focus",e);let s=()=>r(!1);return t.addEventListener("blur",s),t.focus(),()=>{t.removeEventListener("focus",e),t.removeEventListener("blur",s)}}},[]),[e,t,r=>{r!==t&&e.current&&(!0===r&&e.current!==document.activeElement?e.current.focus():!0===r&&e.current===document.activeElement&&e.current.blur())}]}(),[g,x]=(0,i.useState)(""),_=t=>{let s=r.add(t);e.isInside(s)&&h(s)},f=e=>{let t={ArrowDown:new a(0,1),ArrowUp:new a(0,-1),ArrowLeft:new a(-1,0),ArrowRight:new a(1,0)}[e.code];void 0!==t&&(e.preventDefault(),c(new a(Math.abs(t.x),Math.abs(t.y))),_(t))},y=s=>{s.ctrlKey||"Delete"!==s.key&&"Backspace"!==s.key||(t(e.withValue(r,"")),"Backspace"===s.key&&_(u.opposite()),x(g.slice(0,-1)),s.preventDefault())},v=(e,t)=>{e.preventDefault(),h(t),p(!0)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{className:l().input,value:g,type:"text",onKeyDown:e=>{f(e),y(e)},onChange:s=>{let i=s.target.value.slice(-1).toUpperCase();(function(e){if(0===e.length)return!0;if(e.length>1)return!1;if("#"===e)return!0;let t=e.charCodeAt(0);return t>=65&&t<=90})(i)&&(t(e.withValue(r,i)),x("".concat(g).concat(i)),_(u))},ref:d}),(0,s.jsx)("svg",{className:l().grid,width:40*e.width+1,height:40*e.height+1,shapeRendering:"crispEdges",children:e.getCells().map(t=>{let{position:i,value:a}=t;return(0,s.jsx)(n,{symbol:a,...i,size:40,isHighlighted:i.equals(r)&&w,isActive:i.equals(r)&&w,onMouseDown:e=>v(e,i)},e.toIndex(i))})})]})}},5053:e=>{e.exports={input:"crosswords_input__9Owav",grid:"crosswords_grid__uNDTh"}},5717:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",ctas:"page_ctas__rfsth",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",footer:"page_footer__F3MD0",logo:"page_logo__ikIZE"}}},e=>{var t=t=>e(e.s=t);e.O(0,[329,441,517,358],()=>t(4371)),_N_E=e.O()}]);